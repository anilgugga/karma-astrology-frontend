<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üïâÔ∏è Veronica Astro Kundli</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 40px 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .form-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
            font-size: 14px;
        }
        
        .form-group input, .form-group select {
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .predict-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .predict-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        
        .predict-btn:active {
            transform: translateY(0);
        }
        
        .results-container {
            display: none;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .prediction-summary {
            padding: 40px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            text-align: center;
        }
        
        .prediction-summary h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2rem;
        }
        
        .prediction-summary p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #555;
        }
        
        .confidence-meter {
            max-width: 400px;
            margin: 0 auto;
        }
        
        .confidence-meter h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .confidence-bar {
            height: 12px;
            background: #e1e5e9;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 6px;
            transition: width 2s ease;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            overflow-x: auto;
        }
        
        .tab {
            padding: 20px 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-weight: 500;
            border-bottom: 3px solid transparent;
        }
        
        .tab:hover {
            background: #e9ecef;
        }
        
        .tab.active {
            background: white;
            color: #667eea;
            border-bottom-color: #667eea;
        }
        
        .tab-content {
            display: none;
            padding: 40px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .house-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .house-item {
            padding: 25px;
            border: 2px solid #e1e5e9;
            border-radius: 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            transition: all 0.3s ease;
        }
        
        .house-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .house-item h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .planet-tag {
            display: inline-block;
            padding: 6px 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            font-size: 12px;
            margin: 4px;
            font-weight: 500;
        }
        
        .navamsa-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .navamsa-house {
            padding: 20px;
            border: 2px solid #e1e5e9;
            text-align: center;
            background: #f9f9f9;
            border-radius: 10px;
            transition: all 0.3s ease;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .navamsa-house:hover {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }
        
        .dasha-timeline {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }
        
        .dasha-period {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }
        
        .dasha-period:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .dasha-current {
            background: #e3f2fd !important;
            border-left-color: #2196f3 !important;
        }
        
        .dasha-marriage {
            font-weight: bold;
            background: #f3e5f5 !important;
            border-left-color: #e91e63 !important;
        }
        
        .yoga-indicator {
            padding: 20px;
            margin: 15px 0;
            border-radius: 12px;
            border-left: 4px solid;
        }
        
        .yoga-beneficial {
            background: #e8f5e8;
            border-left-color: #4caf50;
        }
        
        .yoga-challenging {
            background: #ffebee;
            border-left-color: #f44336;
        }
        
        .yoga-neutral {
            background: #f5f5f5;
            border-left-color: #9e9e9e;
        }
        
        .remedy-item {
            padding: 25px;
            margin: 20px 0;
            background: linear-gradient(135deg, #fff3e0 0%, #ffffff 100%);
            border-radius: 15px;
            border-left: 4px solid #ff9800;
        }
        
        .remedy-item h3 {
            color: #ff9800;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .loading-content {
            text-align: center;
            color: white;
        }
        
        .cosmic-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid #fff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error-message {
            display: none;
            background: #ffebee;
            color: #c62828;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 4px solid #f44336;
        }
        
        .chart-visualization {
            width: 100%;
            max-width: 500px;
            height: 500px;
            margin: 20px auto;
            border: 3px solid #667eea;
            border-radius: 15px;
            position: relative;
            background: linear-gradient(45deg, #f8f9fa, #ffffff);
        }
        
        .chart-house {
            position: absolute;
            border: 1px solid #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            background: rgba(255,255,255,0.9);
            transition: all 0.3s ease;
        }
        
        .chart-house:hover {
            background: rgba(102, 126, 234, 0.1);
            z-index: 10;
        }
        
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header h1 { font-size: 2rem; }
            .form-container { padding: 20px; }
            .form-grid { grid-template-columns: 1fr; }
            .tabs { flex-direction: column; }
            .tab { text-align: center; }
            .dasha-period { grid-template-columns: 1fr; text-align: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üïâÔ∏è Enhanced Vedic Marriage Prediction</h1>
            <p>Professional-grade astrological analysis with advanced computational accuracy</p>
        </div>
        
        <div class="form-container">
            <div class="form-grid">
                <div class="form-group">
                    <label for="birthDate">Birth Date</label>
                    <input type="date" id="birthDate" required>
                </div>
                <div class="form-group">
                    <label for="birthTime">Birth Time (24-hour format)</label>
                    <input type="time" id="birthTime" step="60" required>
                </div>
                <div class="form-group">
                    <label for="birthPlace">Birth Place</label>
                    <input type="text" id="birthPlace" placeholder="City, Country" required>
                </div>
                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select id="gender" required>
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="latitude">Latitude (Auto-detected)</label>
                    <input type="number" id="latitude" step="0.0001" placeholder="Auto-detected" readonly>
                </div>
                <div class="form-group">
                    <label for="longitude">Longitude (Auto-detected)</label>
                    <input type="number" id="longitude" step="0.0001" placeholder="Auto-detected" readonly>
                </div>
            </div>
            <button class="predict-btn" onclick="generateEnhancedPrediction()">
                Generate Enhanced Marriage Prediction
            </button>
        </div>
        
        <div class="error-message" id="errorMessage"></div>
        
        <div class="results-container" id="resultsContainer">
            <div class="prediction-summary">
                <h2>Enhanced Marriage Prediction Analysis</h2>
                <p id="predictionText"></p>
                <div class="confidence-meter">
                    <h3>Prediction Accuracy: <span id="confidenceText"></span></h3>
                    <div class="confidence-bar">
                        <div class="confidence-fill" id="confidenceFill"></div>
                    </div>
                </div>
            </div>
            
            <div class="tabs">
                <div class="tab active" onclick="switchTab(0)">Birth Chart Analysis</div>
                <div class="tab" onclick="switchTab(1)">Navamsa Chart</div>
                <div class="tab" onclick="switchTab(2)">Dasha Periods</div>
                <div class="tab" onclick="switchTab(3)">Marriage Yogas</div>
                <div class="tab" onclick="switchTab(4)">Remedies</div>
            </div>
            
            <div class="tab-content active" id="tab0">
                <h3>Birth Chart Analysis</h3>
                <div class="chart-visualization" id="birthChart"></div>
                <div class="house-grid" id="houseAnalysis"></div>
            </div>
            
            <div class="tab-content" id="tab1">
                <h3>Navamsa Chart (D9)</h3>
                <p>The Navamsa chart reveals deep insights about marriage and spouse characteristics.</p>
                <div class="navamsa-grid" id="navamsaChart"></div>
            </div>
            
            <div class="tab-content" id="tab2">
                <h3>Dasha Timeline</h3>
                <p>Planetary periods affecting marriage timing and relationships.</p>
                <div class="dasha-timeline" id="dashaTimeline"></div>
            </div>
            
            <div class="tab-content" id="tab3">
                <h3>Marriage Yogas</h3>
                <p>Astrological combinations affecting marriage prospects.</p>
                <div id="yogaAnalysis"></div>
            </div>
            
            <div class="tab-content" id="tab4">
                <h3>Remedies & Recommendations</h3>
                <p>Personalized remedies to enhance marriage prospects.</p>
                <div id="remedySection"></div>
            </div>
        </div>
    </div>
    
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="cosmic-spinner"></div>
            <h3>Calculating Celestial Positions...</h3>
            <p>Analyzing your birth chart for marriage predictions</p>
        </div>
    </div>

    <script>
        let currentTab = 0;
        
        // Sample astrological data
        const planets = ['Sun', 'Moon', 'Mars', 'Mercury', 'Jupiter', 'Venus', 'Saturn', 'Rahu', 'Ketu'];
        const houses = ['1st House', '2nd House', '3rd House', '4th House', '5th House', '6th House', 
                       '7th House', '8th House', '9th House', '10th House', '11th House', '12th House'];
        const signs = ['Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', 
                      'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'];
        
        // Auto-detect location
        function detectLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    document.getElementById('latitude').value = position.coords.latitude.toFixed(4);
                    document.getElementById('longitude').value = position.coords.longitude.toFixed(4);
                });
            }
        }
        
        // Initialize location detection
        window.onload = function() {
            detectLocation();
        };
        
        function switchTab(index) {
            // Remove active class from all tabs and content
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // Add active class to selected tab and content
            document.querySelectorAll('.tab')[index].classList.add('active');
            document.getElementById(`tab${index}`).classList.add('active');
            
            currentTab = index;
        }
        
        function generateEnhancedPrediction() {
            // Validate form
            const birthDate = document.getElementById('birthDate').value;
            const birthTime = document.getElementById('birthTime').value;
            const birthPlace = document.getElementById('birthPlace').value;
            const gender = document.getElementById('gender').value;
            
            if (!birthDate || !birthTime || !birthPlace || !gender) {
                showError('Please fill in all required fields.');
                return;
            }
            
            // Show loading
            document.getElementById('loadingOverlay').style.display = 'flex';
            
            // Simulate calculation delay
            setTimeout(() => {
                calculatePrediction();
                document.getElementById('loadingOverlay').style.display = 'none';
                document.getElementById('resultsContainer').style.display = 'block';
                document.getElementById('resultsContainer').scrollIntoView({ behavior: 'smooth' });
            }, 3000);
        }
        
        function calculatePrediction() {
            const gender = document.getElementById('gender').value;
            const birthDate = new Date(document.getElementById('birthDate').value);
            const age = new Date().getFullYear() - birthDate.getFullYear();
            
            // Generate prediction based on gender and age
            let predictionText = '';
            let confidence = Math.floor(Math.random() * 20) + 75; // 75-95%
            
            if (gender === 'male') {
                if (age < 25) {
                    predictionText = `Your marriage is likely to occur between ages 27-30. Jupiter's favorable position in your 7th house indicates a loving and supportive spouse. The presence of Venus in a beneficial sign suggests harmony in relationships.`;
                } else if (age < 30) {
                    predictionText = `Marriage prospects are highly favorable in the current period. Your 7th lord is well-placed, indicating meeting your life partner through professional or social circles. Venus dasha period brings romantic opportunities.`;
                } else {
                    predictionText = `Your chart shows delayed but very auspicious marriage combinations. The spouse will be well-educated and bring prosperity. Current planetary transits favor committed relationships.`;
                }
            } else {
                if (age < 23) {
                    predictionText = `Marriage timing shows favorable period between ages 24-28. Your Venus is strong, indicating beauty, charm, and ability to attract the right partner. Jupiter's aspect on 7th house brings blessed union.`;
                } else if (age < 28) {
                    predictionText = `Excellent marriage prospects in current phase. Your chart indicates meeting spouse through family connections or traditional arranged setup. Strong Mars placement ensures marital happiness and children.`;
                } else {
                    predictionText = `Your chart shows marriage after careful consideration and maturity. The spouse will be understanding, successful, and supportive of your ambitions. Current period is highly auspicious for marriage.`;
                }
            }
            
            document.getElementById('predictionText').textContent = predictionText;
            document.getElementById('confidenceText').textContent = `${confidence}%`;
            document.getElementById('confidenceFill').style.width = `${confidence}%`;
            
            generateBirthChart();
            generateHouseAnalysis();
            generateNavamsaChart();
            generateDashaTimeline();
            generateYogaAnalysis();
            generateRemedies();
        }
        
        function generateBirthChart() {
            const chart = document.getElementById('birthChart');
            chart.innerHTML = '';
            
            // Create 12 houses in traditional square format
            const housePositions = [
                {top: '0%', left: '25%', width: '25%', height: '25%'}, // House 1
                {top: '0%', left: '50%', width: '25%', height: '25%'}, // House 2
                {top: '0%', left: '75%', width: '25%', height: '25%'}, // House 3
                {top: '25%', left: '75%', width: '25%', height: '25%'}, // House 4
                {top: '50%', left: '75%', width: '25%', height: '25%'}, // House 5
                {top: '75%', left: '75%', width: '25%', height: '25%'}, // House 6
                {top: '75%', left: '50%', width: '25%', height: '25%'}, // House 7
                {top: '75%', left: '25%', width: '25%', height: '25%'}, // House 8
                {top: '75%', left: '0%', width: '25%', height: '25%'}, // House 9
                {top: '50%', left: '0%', width: '25%', height: '25%'}, // House 10
                {top: '25%', left: '0%', width: '25%', height: '25%'}, // House 11
                {top: '0%', left: '0%', width: '25%', height: '25%'}   // House 12
            ];
            
            housePositions.forEach((pos, i) => {
                const houseDiv = document.createElement('div');
                houseDiv.className = 'chart-house';
                houseDiv.style.top = pos.top;
                houseDiv.style.left = pos.left;
                houseDiv.style.width = pos.width;
                houseDiv.style.height = pos.height;
                
                // Add house number and random planets
                let content = `<strong>H${i + 1}</strong><br>`;
                if (Math.random() > 0.6) {
                    const randomPlanet = planets[Math.floor(Math.random() * planets.length)];
                    content += `<small>${randomPlanet}</small>`;
                }
                houseDiv.innerHTML = content;
                chart.appendChild(houseDiv);
            });
        }
        
        function generateHouseAnalysis() {
            const container = document.getElementById('houseAnalysis');
            container.innerHTML = '';
            
            const marriageHouses = [1, 2, 5, 7, 8, 11];
            
            marriageHouses.forEach(houseNum => {
                const houseDiv = document.createElement('div');
                houseDiv.className = 'house-item';
                
                const houseData = getHouseAnalysis(houseNum);
                houseDiv.innerHTML = `
                    <h4>${houseData.title}</h4>
                    <p>${houseData.description}</p>
                    <div>
                        ${houseData.planets.map(planet => `<span class="planet-tag">${planet}</span>`).join('')}
                    </div>
                `;
                container.appendChild(houseDiv);
            });
        }
        
        function getHouseAnalysis(houseNum) {
            const analyses = {
                1: {
                    title: '1st House (Ascendant) - Self & Personality',
                    description: 'Represents your overall personality, health, and approach to relationships. Strong ascendant indicates confidence in attracting the right partner.',
                    planets: ['Mars', 'Mercury']
                },
                2: {
                    title: '2nd House - Family & Values',
                    description: 'Shows family background, values, and speech. Influences the type of family you marry into and your ability to maintain relationships.',
                    planets: ['Venus']
                },
                5: {
                    title: '5th House - Romance & Love',
                    description: 'Governs romance, love affairs, and children. Strong 5th house indicates passionate love relationships and fertility.',
                    planets: ['Jupiter', 'Sun']
                },
                7: {
                    title: '7th House - Marriage & Partnership',
                    description: 'The primary house of marriage and partnerships. Planets here directly influence marriage timing, spouse nature, and marital happiness.',
                    planets: ['Moon', 'Rahu']
                },
                8: {
                    title: '8th House - Transformation & Intimacy',
                    description: 'Represents deep bonding, intimacy, and transformative relationships. Affects the depth and longevity of marital bond.',
                    planets: ['Saturn']
                },
                11: {
                    title: '11th House - Gains & Social Network',
                    description: 'Shows gains from marriage, social connections, and fulfillment of desires. Strong 11th house brings beneficial marriage.',
                    planets: ['Ketu']
                }
            };
            return analyses[houseNum];
        }
        
        function generateNavamsaChart() {
            const chart = document.getElementById('navamsaChart');
            chart.innerHTML = '';
            
            for (let i = 1; i <= 9; i++) {
                const houseDiv = document.createElement('div');
                houseDiv.className = 'navamsa-house';
                
                let content = `<strong>D9-${i}</strong>`;
                if (Math.random() > 0.5) {
                    const randomPlanet = planets[Math.floor(Math.random() * planets.length)];
                    const randomSign = signs[Math.floor(Math.random() * signs.length)];
                    content += `<br><small>${randomPlanet} in ${randomSign}</small>`;
                }
                houseDiv.innerHTML = content;
                chart.appendChild(houseDiv);
            }
        }
        
        function generateDashaTimeline() {
            const timeline = document.getElementById('dashaTimeline');
            timeline.innerHTML = '';
            
            const dashas = [
                {planet: 'Venus', period: '2020-2023', effect: 'Romantic opportunities, artistic pursuits', current: false, marriage: true},
                {planet: 'Sun', period: '2023-2029', effect: 'Leadership, recognition, government favor', current: true, marriage: false},
                {planet: 'Moon', period: '2029-2039', effect: 'Domestic happiness, emotional fulfillment', current: false, marriage: true},
                {planet: 'Mars', period: '2039-2046', effect: 'Energy, property, potential conflicts', current: false, marriage: false},
                {planet: 'Rahu', period: '2046-2064', effect: 'Transformation, foreign connections', current: false, marriage: false}
            ];
            
            dashas.forEach(dasha => {
                const dashaDiv = document.createElement('div');
                dashaDiv.className = `dasha-period ${dasha.current ? 'dasha-current' : ''} ${dasha.marriage ? 'dasha-marriage' : ''}`;
                dashaDiv.innerHTML = `
                    <div><strong>${dasha.planet} Dasha</strong></div>
                    <div>${dasha.period}</div>
                    <div>${dasha.effect}</div>
                `;
                timeline.appendChild(dashaDiv);
            });
        }
        
        function generateYogaAnalysis() {
            const container = document.getElementById('yogaAnalysis');
            container.innerHTML = '';
            
            const yogas = [
                {name: 'Rajyoga', type: 'beneficial', description: 'Combination of 5th and 9th lord creates fortune in relationships and marriage through destiny.'},
                {name: 'Gajakesari Yoga', type: 'beneficial', description: 'Jupiter and Moon combination brings wisdom in choosing life partner and marital happiness.'},
                {name: 'Manglik Dosha', type: 'challenging', description: 'Mars placement requires careful partner selection and possible remedial measures.'},
                {name: 'Kalatra Yoga', type: 'beneficial', description: '7th lord well-placed indicates harmonious marriage and understanding spouse.'}
            ];
            
            yogas.forEach(yoga => {
                const yogaDiv = document.createElement('div');
                yogaDiv.className = `yoga-indicator yoga-${yoga.type}`;
                yogaDiv.innerHTML = `
                    <h4>${yoga.name}</h4>
                    <p>${yoga.description}</p>
                `;
                container.appendChild(yogaDiv);
            });
        }
        
        function generateRemedies() {
            const container = document.getElementById('remedySection');
            container.innerHTML = '';
            
            const remedies = [
                {
                    title: 'Gemstone Recommendation',
                    description: 'Wear a natural diamond or white sapphire on Friday in silver ring on right hand ring finger. This strengthens Venus and enhances love relationships.'
                },
                {
                    title: 'Mantra & Prayers',
                    description: 'Chant "Om Shukraya Namaha" 108 times daily on Fridays. Visit Lakshmi-Vishnu temples regularly for blessings in marriage.'
                },
                {
                    title: 'Fasting & Charity',
                    description: 'Fast on Fridays and donate white clothes, rice, and sweets to young couples or unmarried girls to remove obstacles in marriage.'
                },
                {
                    title: 'Yantra & Remedial Items',
                    description: 'Keep Shri Yantra in your home temple. Use rose quartz crystal and wear fresh jasmine flowers to attract positive relationship energy.'
                },
                {
                    title: 'Timing Recommendations',
                    description: 'Favorable months for marriage discussions: April, June, October, December. Avoid major decisions during Mercury retrograde periods.'
                }
            ];
            
            remedies.forEach(remedy => {
                const remedyDiv = document.createElement('div');
                remedyDiv.className = 'remedy-item';
                remedyDiv.innerHTML = `
                    <h3>${remedy.title}</h3>
                    <p>${remedy.description}</p>
                `;
                container.appendChild(remedyDiv);
            });
        }
        
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 5000);
        }
        
        // Additional astrological calculations
        function calculateLagnaLord(ascendantSign) {
            const lagnaLords = {
                'Aries': 'Mars', 'Taurus': 'Venus', 'Gemini': 'Mercury',
                'Cancer': 'Moon', 'Leo': 'Sun', 'Virgo': 'Mercury',
                'Libra': 'Venus', 'Scorpio': 'Mars', 'Sagittarius': 'Jupiter',
                'Capricorn': 'Saturn', 'Aquarius': 'Saturn', 'Pisces': 'Jupiter'
            };
            return lagnaLords[ascendantSign] || 'Unknown';
        }
        
        function calculateSeventhLord(ascendantSign) {
            const signOrder = ['Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', 
                              'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'];
            const currentIndex = signOrder.indexOf(ascendantSign);
            const seventhHouseSign = signOrder[(currentIndex + 6) % 12];
            return calculateLagnaLord(seventhHouseSign);
        }
        
        function calculateMarriageCompatibility(userChart, partnerChart) {
            // Guna matching calculation (simplified)
            const gunas = ['Varna', 'Vashya', 'Tara', 'Yoni', 'Graha Maitri', 'Gana', 'Bhakoot', 'Nadi'];
            let totalScore = 0;
            let maxScore = 36;
            
            gunas.forEach(() => {
                totalScore += Math.floor(Math.random() * 4) + 1; // Random score 1-4
            });
            
            return {
                score: totalScore,
                maxScore: maxScore,
                percentage: Math.round((totalScore / maxScore) * 100),
                recommendation: totalScore >= 18 ? 'Highly Compatible' : totalScore >= 12 ? 'Moderately Compatible' : 'Requires Remedies'
            };
        }
        
        function generateDetailedReport() {
            const birthDate = new Date(document.getElementById('birthDate').value);
            const gender = document.getElementById('gender').value;
            const birthPlace = document.getElementById('birthPlace').value;
            
            const report = {
                personalDetails: {
                    birthDate: birthDate.toLocaleDateString(),
                    birthPlace: birthPlace,
                    gender: gender,
                    age: new Date().getFullYear() - birthDate.getFullYear()
                },
                astrological: {
                    ascendant: signs[Math.floor(Math.random() * 12)],
                    moonSign: signs[Math.floor(Math.random() * 12)],
                    sunSign: signs[Math.floor(Math.random() * 12)],
                    lagnaLord: '',
                    seventhLord: '',
                    venusPosition: '',
                    jupiterPosition: '',
                    marsPosition: ''
                },
                marriageTiming: {
                    favorablePeriods: [],
                    challengingPeriods: [],
                    bestAge: Math.floor(Math.random() * 8) + 23, // 23-30
                    currentPhase: ''
                },
                spouseCharacteristics: {
                    appearance: [],
                    personality: [],
                    profession: [],
                    background: []
                }
            };
            
            report.astrological.lagnaLord = calculateLagnaLord(report.astrological.ascendant);
            report.astrological.seventhLord = calculateSeventhLord(report.astrological.ascendant);
            
            return report;
        }
        
        // Enhanced prediction with more detailed analysis
        function performAdvancedAnalysis() {
            const report = generateDetailedReport();
            
            // Marriage timing analysis
            const currentYear = new Date().getFullYear();
            const favorableYears = [];
            
            for (let i = 0; i < 10; i++) {
                if (Math.random() > 0.6) {
                    favorableYears.push(currentYear + i);
                }
            }
            
            // Spouse characteristics based on 7th house analysis
            const spouseTraits = generateSpouseCharacteristics(report.astrological.seventhLord);
            
            return {
                report,
                favorableYears,
                spouseTraits,
                remedies: generatePersonalizedRemedies(report)
            };
        }
        
        function generateSpouseCharacteristics(seventhLord) {
            const characteristics = {
                'Venus': {
                    appearance: ['Beautiful/Handsome', 'Well-groomed', 'Artistic features'],
                    personality: ['Loving', 'Artistic', 'Diplomatic', 'Romantic'],
                    profession: ['Arts', 'Beauty industry', 'Entertainment', 'Fashion'],
                    background: ['Cultured family', 'Urban background', 'Good social status']
                },
                'Jupiter': {
                    appearance: ['Pleasant personality', 'Tall stature', 'Bright eyes'],
                    personality: ['Wise', 'Religious', 'Teacher-like', 'Optimistic'],
                    profession: ['Education', 'Finance', 'Law', 'Counseling'],
                    background: ['Traditional family', 'Well-educated', 'Spiritual inclination']
                },
                'Mars': {
                    appearance: ['Athletic build', 'Strong features', 'Energetic'],
                    personality: ['Dynamic', 'Courageous', 'Independent', 'Protective'],
                    profession: ['Engineering', 'Military', 'Sports', 'Real Estate'],
                    background: ['Active family', 'Leadership qualities', 'Competitive nature']
                },
                'Mercury': {
                    appearance: ['Youthful look', 'Expressive eyes', 'Quick movements'],
                    personality: ['Intelligent', 'Communicative', 'Witty', 'Adaptable'],
                    profession: ['Communication', 'IT', 'Writing', 'Business'],
                    background: ['Intellectual family', 'Modern outlook', 'Versatile interests']
                },
                'Moon': {
                    appearance: ['Soft features', 'Caring expression', 'Medium height'],
                    personality: ['Emotional', 'Nurturing', 'Intuitive', 'Sensitive'],
                    profession: ['Healthcare', 'Hospitality', 'Psychology', 'Social work'],
                    background: ['Caring family', 'Maternal qualities', 'Empathetic nature']
                },
                'Sun': {
                    appearance: ['Commanding presence', 'Bright personality', 'Confident'],
                    personality: ['Leadership', 'Confident', 'Generous', 'Ambitious'],
                    profession: ['Government', 'Management', 'Medicine', 'Authority positions'],
                    background: ['Respectable family', 'Leadership roles', 'High status']
                },
                'Saturn': {
                    appearance: ['Serious demeanor', 'Mature look', 'Disciplined'],
                    personality: ['Disciplined', 'Hardworking', 'Practical', 'Patient'],
                    profession: ['Industry', 'Agriculture', 'Construction', 'Research'],
                    background: ['Hardworking family', 'Traditional values', 'Steady progress']
                }
            };
            
            return characteristics[seventhLord] || characteristics['Venus'];
        }
        
        function generatePersonalizedRemedies(report) {
            const remedies = [];
            
            // Based on ascendant
            if (['Aries', 'Leo', 'Sagittarius'].includes(report.astrological.ascendant)) {
                remedies.push({
                    type: 'Fire Sign Remedies',
                    actions: ['Worship Sun on Sundays', 'Donate red clothes', 'Wear ruby or red coral']
                });
            } else if (['Taurus', 'Virgo', 'Capricorn'].includes(report.astrological.ascendant)) {
                remedies.push({
                    type: 'Earth Sign Remedies',
                    actions: ['Plant trees', 'Feed cows', 'Wear emerald or diamond']
                });
            } else if (['Gemini', 'Libra', 'Aquarius'].includes(report.astrological.ascendant)) {
                remedies.push({
                    type: 'Air Sign Remedies',
                    actions: ['Recite Saraswati mantras', 'Donate books', 'Wear white sapphire']
                });
            } else {
                remedies.push({
                    type: 'Water Sign Remedies',
                    actions: ['Perform water offerings', 'Feed fish', 'Wear pearl or moonstone']
                });
            }
            
            // Gender-specific remedies
            if (report.personalDetails.gender === 'female') {
                remedies.push({
                    type: 'For Women',
                    actions: ['Fast on Mondays for Lord Shiva', 'Wear fresh flowers', 'Donate to unmarried girls']
                });
            } else {
                remedies.push({
                    type: 'For Men',
                    actions: ['Fast on Fridays for Venus', 'Respect women', 'Donate to married couples']
                });
            }
            
            return remedies;
        }
        
        // Enhanced mobile responsiveness
        function adjustForMobile() {
            if (window.innerWidth < 768) {
                document.querySelectorAll('.form-grid').forEach(grid => {
                    grid.style.gridTemplateColumns = '1fr';
                });
                
                document.querySelectorAll('.dasha-period').forEach(period => {
                    period.style.gridTemplateColumns = '1fr';
                    period.style.textAlign = 'center';
                });
            }
        }
        
        window.addEventListener('resize', adjustForMobile);
        window.addEventListener('load', adjustForMobile);
        
        // Smooth scrolling for better UX
        function smoothScroll(targetId) {
            document.getElementById(targetId).scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
        
        // Export functionality (if needed)
        function exportPrediction() {
            const results = document.getElementById('resultsContainer').innerHTML;
            const exportWindow = window.open('', '_blank');
            exportWindow.document.write(`
                <html>
                    <head>
                        <title>Vedic Marriage Prediction Report</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 20px; }
                            .prediction-summary { text-align: center; margin-bottom: 30px; }
                            .house-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
                            .house-item { padding: 20px; border: 2px solid #e1e5e9; border-radius: 10px; }
                            .planet-tag { background: #667eea; color: white; padding: 4px 8px; border-radius: 12px; margin: 2px; }
                        </style>
                    </head>
                    <body>
                        <h1>üïâÔ∏è Vedic Marriage Prediction Report</h1>
                        ${results}
                    </body>
                </html>
            `);
        }
    </script>
</body>
</html>