<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chart Engine UI Components</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-slate-900">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    // Sample chart data
    const sampleChartData = {
      planetPositions: {
        SUN: { 
          longitude: 45.5, 
          zodiacPosition: { sign: { name: 'Taurus', symbol: '♉' }, degreeInSign: 15.5 },
          house: 1,
          dignity: { dignity: 'Neutral', strength: 50 }
        },
        MOON: { 
          longitude: 120.3, 
          zodiacPosition: { sign: { name: 'Cancer', symbol: '♋' }, degreeInSign: 0.3 },
          house: 4,
          dignity: { dignity: 'Own Sign', strength: 100 }
        },
        MERCURY: { 
          longitude: 200.7, 
          zodiacPosition: { sign: { name: 'Libra', symbol: '♎' }, degreeInSign: 20.7 },
          house: 7,
          dignity: { dignity: 'Neutral', strength: 50 }
        },
        VENUS: { 
          longitude: 330.2, 
          zodiacPosition: { sign: { name: 'Pisces', symbol: '♓' }, degreeInSign: 0.2 },
          house: 11,
          dignity: { dignity: 'Exaltation', strength: 95 }
        },
        MARS: { 
          longitude: 280.8, 
          zodiacPosition: { sign: { name: 'Capricorn', symbol: '♑' }, degreeInSign: 10.8 },
          house: 9,
          dignity: { dignity: 'Exaltation', strength: 88 }
        },
        JUPITER: { 
          longitude: 95.4, 
          zodiacPosition: { sign: { name: 'Cancer', symbol: '♋' }, degreeInSign: 5.4 },
          house: 3,
          dignity: { dignity: 'Exaltation', strength: 92 }
        },
        SATURN: { 
          longitude: 185.6, 
          zodiacPosition: { sign: { name: 'Libra', symbol: '♎' }, degreeInSign: 5.6 },
          house: 6,
          dignity: { dignity: 'Exaltation', strength: 85 }
        },
        RAHU: { 
          longitude: 75.9, 
          zodiacPosition: { sign: { name: 'Gemini', symbol: '♊' }, degreeInSign: 15.9 },
          house: 2,
          dignity: { dignity: 'Neutral', strength: 50 }
        },
        KETU: { 
          longitude: 255.9, 
          zodiacPosition: { sign: { name: 'Sagittarius', symbol: '♐' }, degreeInSign: 15.9 },
          house: 8,
          dignity: { dignity: 'Neutral', strength: 50 }
        }
      }
    };

    // Planet symbols and colors
    const planetSymbols = {
      SUN: '☉', MOON: '☽', MERCURY: '☿', VENUS: '♀', MARS: '♂',
      JUPITER: '♃', SATURN: '♄', RAHU: '☊', KETU: '☋'
    };

    const planetColors = {
      SUN: '#fbbf24',
      MOON: '#e5e7eb',
      MERCURY: '#10b981',
      VENUS: '#f472b6',
      MARS: '#ef4444',
      JUPITER: '#3b82f6',
      SATURN: '#6366f1',
      RAHU: '#8b5cf6',
      KETU: '#f59e0b'
    };

    // Sample aspects data
    const sampleAspects = [
      { from: 'SUN', to: 'MOON', type: 'Trine', orb: 2.3, strength: 'Strong' },
      { from: 'VENUS', to: 'JUPITER', type: 'Conjunction', orb: 1.1, strength: 'Very Strong' },
      { from: 'MARS', to: 'SATURN', type: 'Square', orb: 3.2, strength: 'Moderate' },
      { from: 'MERCURY', to: 'VENUS', type: 'Sextile', orb: 4.8, strength: 'Weak' },
      { from: 'JUPITER', to: 'SATURN', type: 'Opposition', orb: 1.8, strength: 'Strong' },
      { from: 'MOON', to: 'MARS', type: 'Trine', orb: 2.9, strength: 'Moderate' }
    ];

    // PlanetaryStrengthMeter Component
    const PlanetaryStrengthMeter = ({ planet, data }) => {
      const getStrengthColor = (strength) => {
        if (strength >= 80) return 'bg-green-500';
        if (strength >= 60) return 'bg-yellow-500';
        if (strength >= 40) return 'bg-orange-500';
        return 'bg-red-500';
      };

      const getDignityColor = (dignity) => {
        switch (dignity) {
          case 'Exaltation': return 'text-green-400';
          case 'Own Sign': return 'text-blue-400';
          case 'Debilitation': return 'text-red-400';
          case 'Enemy Sign': return 'text-orange-400';
          default: return 'text-gray-400';
        }
      };

      return (
        <div className="bg-slate-800 p-4 rounded-lg border border-slate-700">
          <div className="flex items-center gap-3 mb-3">
            <div 
              className="w-8 h-8 rounded-full flex items-center justify-center text-black font-bold"
              style={{ backgroundColor: planetColors[planet] }}
            >
              {planetSymbols[planet]}
            </div>
            <h3 className="font-semibold text-white">{planet}</h3>
          </div>
          
          <div className="space-y-2">
            <div className="flex justify-between text-sm">
              <span className="text-gray-300">Strength:</span>
              <span className="text-white">{data.dignity.strength}%</span>
            </div>
            
            <div className="w-full bg-gray-700 rounded-full h-2">
              <div 
                className={`h-2 rounded-full transition-all duration-300 ${getStrengthColor(data.dignity.strength)}`}
                style={{ width: `${data.dignity.strength}%` }}
              ></div>
            </div>
            
            <div className="flex justify-between text-sm">
              <span className="text-gray-300">Dignity:</span>
              <span className={getDignityColor(data.dignity.dignity)}>
                {data.dignity.dignity}
              </span>
            </div>
            
            <div className="flex justify-between text-sm">
              <span className="text-gray-300">Position:</span>
              <span className="text-white">
                {data.zodiacPosition.sign.name} {Math.floor(data.zodiacPosition.degreeInSign)}°
              </span>
            </div>
            
            <div className="flex justify-between text-sm">
              <span className="text-gray-300">House:</span>
              <span className="text-white">{data.house}</span>
            </div>
          </div>
        </div>
      );
    };

    // AspectsList Component
    const AspectsList = ({ aspects, showAspects }) => {
      const getAspectColor = (type) => {
        switch (type) {
          case 'Conjunction': return 'text-yellow-400';
          case 'Trine': return 'text-green-400';
          case 'Sextile': return 'text-blue-400';
          case 'Square': return 'text-red-400';
          case 'Opposition': return 'text-purple-400';
          default: return 'text-gray-400';
        }
      };

      const getStrengthColor = (strength) => {
        switch (strength) {
          case 'Very Strong': return 'text-green-300';
          case 'Strong': return 'text-green-400';
          case 'Moderate': return 'text-yellow-400';
          case 'Weak': return 'text-orange-400';
          default: return 'text-gray-400';
        }
      };

      if (!showAspects) {
        return (
          <div className="bg-slate-800 p-6 rounded-lg border border-slate-700">
            <h3 className="text-lg font-semibold text-white mb-4">Aspects</h3>
            <p className="text-gray-400 text-center">Enable aspects to view planetary relationships</p>
          </div>
        );
      }

      return (
        <div className="bg-slate-800 p-6 rounded-lg border border-slate-700">
          <h3 className="text-lg font-semibold text-white mb-4">Aspects</h3>
          <div className="space-y-3 max-h-96 overflow-y-auto">
            {aspects.map((aspect, index) => (
              <div key={index} className="bg-slate-700 p-3 rounded-lg">
                <div className="flex items-center justify-between mb-2">
                  <div className="flex items-center gap-2">
                    <span 
                      className="w-6 h-6 rounded-full flex items-center justify-center text-xs text-black font-bold"
                      style={{ backgroundColor: planetColors[aspect.from] }}
                    >
                      {planetSymbols[aspect.from]}
                    </span>
                    <span className="text-gray-300">→</span>
                    <span 
                      className="w-6 h-6 rounded-full flex items-center justify-center text-xs text-black font-bold"
                      style={{ backgroundColor: planetColors[aspect.to] }}
                    >
                      {planetSymbols[aspect.to]}
                    </span>
                  </div>
                  <span className={`font-semibold ${getAspectColor(aspect.type)}`}>
                    {aspect.type}
                  </span>
                </div>
                <div className="flex justify-between text-sm">
                  <span className="text-gray-400">Orb: {aspect.orb}°</span>
                  <span className={getStrengthColor(aspect.strength)}>
                    {aspect.strength}
                  </span>
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    };

    // Chart Controls Component
    const ChartControls = ({ chartType, setChartType, showAspects, setShowAspects, showDegrees, setShowDegrees }) => {
      return (
        <div className="bg-slate-800 p-4 rounded-lg border border-slate-700">
          <h3 className="text-lg font-semibold text-white mb-4">Chart Controls</h3>
          
          <div className="space-y-4">
            {/* Chart Type Selector */}
            <div>
              <label className="block text-sm font-medium text-gray-300 mb-2">Chart Type</label>
              <div className="flex gap-2">
                <button
                  className={`px-4 py-2 rounded text-sm transition-colors ${
                    chartType === 'north' 
                      ? 'bg-orange-600 hover:bg-orange-700 text-white' 
                      : 'bg-slate-600 hover:bg-slate-700 text-gray-300'
                  }`}
                  onClick={() => setChartType('north')}
                >
                  North Indian
                </button>
                <button
                  className={`px-4 py-2 rounded text-sm transition-colors ${
                    chartType === 'south' 
                      ? 'bg-orange-600 hover:bg-orange-700 text-white' 
                      : 'bg-slate-600 hover:bg-slate-700 text-gray-300'
                  }`}
                  onClick={() => setChartType('south')}
                >
                  South Indian
                </button>
              </div>
            </div>
            
            {/* Toggle Controls */}
            <div className="space-y-2">
              <label className="flex items-center gap-2 cursor-pointer">
                <input
                  type="checkbox"
                  checked={showAspects}
                  onChange={(e) => setShowAspects(e.target.checked)}
                  className="w-4 h-4 rounded border-gray-600 bg-slate-700 text-orange-600 focus:ring-orange-500"
                />
                <span className="text-sm text-gray-300">Show Aspects</span>
              </label>
              
              <label className="flex items-center gap-2 cursor-pointer">
                <input
                  type="checkbox"
                  checked={showDegrees}
                  onChange={(e) => setShowDegrees(e.target.checked)}
                  className="w-4 h-4 rounded border-gray-600 bg-slate-700 text-blue-600 focus:ring-blue-500"
                />
                <span className="text-sm text-gray-300">Show Degrees</span>
              </label>
            </div>
          </div>
        </div>
      );
    };

    // Planet Selection Panel Component
    const PlanetSelectionPanel = ({ selectedPlanet, setSelectedPlanet, planetData }) => {
      const planets = Object.keys(planetData);
      
      return (
        <div className="bg-slate-800 p-4 rounded-lg border border-slate-700">
          <h3 className="text-lg font-semibold text-white mb-4">Planet Selection</h3>
          
          <div className="grid grid-cols-3 gap-2 mb-4">
            {planets.map((planet) => (
              <button
                key={planet}
                onClick={() => setSelectedPlanet(selectedPlanet === planet ? null : planet)}
                className={`p-2 rounded-lg border transition-all ${
                  selectedPlanet === planet
                    ? 'border-amber-400 bg-amber-400/10 text-amber-400'
                    : 'border-slate-600 hover:border-slate-500 text-gray-300 hover:text-white'
                }`}
              >
                <div className="flex flex-col items-center gap-1">
                  <span 
                    className="w-8 h-8 rounded-full flex items-center justify-center text-black font-bold text-sm"
                    style={{ backgroundColor: planetColors[planet] }}
                  >
                    {planetSymbols[planet]}
                  </span>
                  <span className="text-xs">{planet}</span>
                </div>
              </button>
            ))}
          </div>
          
          <button
            onClick={() => setSelectedPlanet(null)}
            className="w-full py-2 px-4 bg-slate-600 hover:bg-slate-700 text-gray-300 rounded-lg text-sm transition-colors"
          >
            Clear Selection
          </button>
          
          {selectedPlanet && (
            <div className="mt-4 p-3 bg-slate-700 rounded-lg">
              <h4 className="font-semibold text-amber-400 mb-2">
                {planetSymbols[selectedPlanet]} {selectedPlanet}
              </h4>
              <div className="text-sm text-gray-300 space-y-1">
                <p>House: {planetData[selectedPlanet].house}</p>
                <p>Sign: {planetData[selectedPlanet].zodiacPosition.sign.name}</p>
                <p>Degree: {Math.floor(planetData[selectedPlanet].zodiacPosition.degreeInSign)}°</p>
                <p>Dignity: {planetData[selectedPlanet].dignity.dignity}</p>
              </div>
            </div>
          )}
        </div>
      );
    };

    // Main UI Components Demo
    const UIComponentsDemo = () => {
      const [chartType, setChartType] = useState('north');
      const [showAspects, setShowAspects] = useState(true);
      const [showDegrees, setShowDegrees] = useState(true);
      const [selectedPlanet, setSelectedPlanet] = useState('SUN');

      return (
        <div className="min-h-screen bg-slate-900 text-white p-6">
          <div className="max-w-7xl mx-auto">
            <h1 className="text-3xl font-bold text-center mb-8 text-amber-400">
              🕉️ Chart Engine UI Components 🕉️
            </h1>
            
            <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
              {/* Left Column - Controls and Planet Selection */}
              <div className="space-y-6">
                <ChartControls 
                  chartType={chartType}
                  setChartType={setChartType}
                  showAspects={showAspects}
                  setShowAspects={setShowAspects}
                  showDegrees={showDegrees}
                  setShowDegrees={setShowDegrees}
                />
                
                <PlanetSelectionPanel 
                  selectedPlanet={selectedPlanet}
                  setSelectedPlanet={setSelectedPlanet}
                  planetData={sampleChartData.planetPositions}
                />
              </div>
              
              {/* Middle Column - Planetary Strength Meters */}
              <div className="space-y-4">
                <h2 className="text-xl font-semibold text-center text-amber-400 mb-4">
                  Planetary Strengths
                </h2>
                <div className="space-y-4 max-h-96 overflow-y-auto">
                  {Object.entries(sampleChartData.planetPositions).map(([planet, data]) => (
                    <PlanetaryStrengthMeter 
                      key={planet} 
                      planet={planet} 
                      data={data} 
                    />
                  ))}
                </div>
              </div>
              
              {/* Right Column - Aspects List */}
              <div>
                <AspectsList 
                  aspects={sampleAspects}
                  showAspects={showAspects}
                />
              </div>
            </div>
            
            {/* Bottom Section - Demo Info */}
            <div className="mt-8 bg-slate-800 p-6 rounded-lg border border-slate-700">
              <h3 className="text-lg font-semibold text-white mb-4">Component Features</h3>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                <div>
                  <h4 className="font-semibold text-amber-400 mb-2">Planetary Strength Meter</h4>
                  <ul className="text-gray-300 space-y-1">
                    <li>• Strength percentage bar</li>
                    <li>• Dignity color coding</li>
                    <li>• Position and house info</li>
                    <li>• Interactive planet icons</li>
                  </ul>
                </div>
                <div>
                  <h4 className="font-semibold text-amber-400 mb-2">Aspects List</h4>
                  <ul className="text-gray-300 space-y-1">
                    <li>• Aspect type identification</li>
                    <li>• Orb calculations</li>
                    <li>• Strength indicators</li>
                    <li>• Scrollable layout</li>
                  </ul>
                </div>
                <div>
                  <h4 className="font-semibold text-amber-400 mb-2">Chart Controls</h4>
                  <ul className="text-gray-300 space-y-1">
                    <li>• Chart type switching</li>
                    <li>• Aspect visibility toggle</li>
                    <li>• Degree display toggle</li>
                    <li>• Clean interface</li>
                  </ul>
                </div>
                <div>
                  <h4 className="font-semibold text-amber-400 mb-2">Planet Selection</h4>
                  <ul className="text-gray-300 space-y-1">
                    <li>• Visual planet grid</li>
                    <li>• Click to select/deselect</li>
                    <li>• Detailed planet info</li>
                    <li>• Clear selection option</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    };

    ReactDOM.render(<UIComponentsDemo />, document.getElementById('root'));
  </script>
</body>
</html>